<div class="dashboard-container overlay-10 padded-content-page" layout="column">
    <div layout="row" layout-xs="column" layout-margin>
        <tri-widget flex="100" flex-xs="100" server-widget>
            <md-tabs layout-fill flex md-dynamic-height md-no-disconnect md-stretch-tabs="always" md-no-pagination>

                <md-tab label="Owned">
                    <md-card-content class="overflow-auto">
                        <md-content flex>
                            <md-list class="margin-bottom-10" flex>
                                <md-list-item class="md-2-line"
                                              ng-repeat="item in vm.essayRefs" flex>
                                    <div class="md-list-item-text">
                                        <span><a ng-href="#/essay/{{item.$id}}" ng-if="item.name">{{item.name}}</a></span>
                                        <span><a ng-href="#/essay/{{item.$id}}" ng-if="!item.name">Untitled</a></span>

                                        <p>Last updated {{item.timestamp | date:"MM/dd/yyyy 'at' h:mma"}}</p>
                                    </div>
                                </md-list-item>
                            </md-list>
                        </md-content>
                    </md-card-content>
                </md-tab>

                <md-tab label="Shared">
                    <md-content class="md-padding">
                        <md-list>
                            <md-list-item class="md-2-line" ng-repeat="item in vm.otherRefs">
                                <div class="md-list-item-text">
                                    <span><a ng-href="#/essay-shared/{{item.key}}">{{item.name}}</a></span>
                                    <p>Last updated {{item.timestamp}}</p>
                                </div>
                            </md-list-item>
                        </md-list>
                    </md-content>
                </md-tab>
            </md-tabs>
        </tri-widget>

        <tri-widget flex="50" flex-xs="100" title="Contacts" contacts-widget content-layout="row">
            <md-list class="margin-bottom-10" flex>
                <md-list-item class="md-2-line" ng-repeat="friend in vm.friendsList" ng-click="vm.openDirectMessage($event, friend)">
                    <img class="md-avatar" ng-src="{{ vm.users.getGravatar(friend) }}" />
                    <!--<p>{{::friend.name}}</p>-->
                    <div class="md-list-item-text" layout="column">
                        <h3>{{ vm.users.getDisplayName(friend) }}</h3>
                        <div ng-if="vm.users.getCurrentStatus(friend)== true">
                            <p>Online</p>
                        </div>
                        <div ng-if="vm.users.getCurrentStatus(friend) != true">
                            <p>Offline</p>
                        </div>
                    </div>
                    <md-icon md-font-icon="zmdi zmdi-chat" class="md-primary"></md-icon>
                    <md-divider ng-hide="$last"></md-divider>
                </md-list-item>
            </md-list>
        </tri-widget>

    </div>
</div>
